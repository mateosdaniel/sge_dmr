# PR0601

[Atrás](../index.md)

---

- Desde la carpeta de volumesOdoo, ejecuto docker exec sobre el contenedor de odoo y ejecuto odoo scaffold para crear una plantilla para el modelo.

- Edito los siguientes archivos:

models.py

```py
from odoo import models, fields, api


class gestion_productos(models.Model):
    _name = 'gestion_productos.gestion_productos'
    _description = 'gestion_productos.gestion_productos'

    name = fields.Char(string="Nombre del producto")
    description = fields.Text(string="Descripción del producto")
    codigo = fields.Integer(string="Código de producto", required=True)
    img = fields.Image(string="Imagen del producto")
    cat = fields.Selection(
        [
            ('jardin', 'Jardín'),
            ('hogar', 'Hogar'),
            ('electrodomesticos', 'Electrodomésticos'),
        ],
        String="Categoría"
    )
    destacable = fields.Boolean(string="Tipo de producto")
    precio_venta = fields.Float(string="Precio de venta")
    stock = fields.Integer(string="Stock disponible")
    fecha_creacion = fields.DateTime(default=fields.DateTime.now())
    fecha_ultima_actu = fields.DateTime(default=fields.DateTime.now())
    activo = fields.Boolean(default=True)
    peso = fields.Float(string="Peso del producto", digits=(1,2))
```

views.xml

```xml
<odoo>
  <data>
    <!-- explicit list view definition -->

    <record model="ir.ui.view" id="gestion_productos.list">
      <field name="name">gestion_productos list</field>
      <field name="model">gestion_productos.gestion_productos</field>
      <field name="arch" type="xml">
        <tree>
        <field name="name"/>
        <field name="description"/>
        <field name="codigo"/>
        <field name="img"/>
        <field name="cat"/>
        <field name="destacable"/>
        <field name="precio_venta" widget="monetary"/>
        <field name="stock"/>
        <field name="fecha_creacion"/>      
        <field name="fecha_ultima_actu"/>      
        <field name="activo"/>      
        <field name="peso"/>
      </tree>
    </field>
  </record>


    <!-- actions opening views on models -->

    <record model="ir.actions.act_window" id="gestion_productos.action_window">
      <field name="name">gestion_productos window</field>
      <field name="res_model">gestion_productos.gestion_productos</field>
      <field name="view_mode">tree,form</field>
    </record>


    <!-- server action to the one above -->
<!--
    <record model="ir.actions.server" id="gestion_productos.action_server">
      <field name="name">gestion_productos server</field>
      <field name="model_id" ref="model_gestion_productos_gestion_productos"/>
      <field name="state">code</field>
      <field name="code">
        action = {
          "type": "ir.actions.act_window",
          "view_mode": "tree,form",
          "res_model": model._name,
        }
      </field>
    </record>
-->

    <!-- Top menu item -->

    <menuitem name="gestion_productos" id="gestion_productos.menu_root"/>

    <!-- menu categories -->

    <menuitem name="Menu 1" id="gestion_productos.menu_1" parent="gestion_productos.menu_root"/>

    <!-- actions -->

    <menuitem name="List" id="gestion_productos.menu_1_list" parent="gestion_productos.menu_1"
              action="gestion_productos.action_window"/>
  </data>
</odoo>
```

Descomento la siguiente línea del archivo "\_\_manifest\_\_":

```py
'security/ir.model.access.csv',
```

---
[Atrás](../index.md)
